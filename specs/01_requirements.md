# 要件定義書 (Draft)

## 1. システム概要
本システムは、製造現場における部品（Part）の設計データ管理および、その個体（PartItem）の製造進捗・ステータスを管理するための工程管理システムである。
データ構造として、プロジェクト（Project）、ユニット（Unit）、部品（Part）の3階層で構成されるBOM構造をサポートする。

## 2. 背景・目的
- 3Dデータ（STLファイル）をベースとした部品情報の迅速な登録。
- 製造・切削・研磨・検査等の各フェーズにおけるリアルタイムな進捗把握と品質管理。
- 個体ごとの製造履歴（使用した造形機を含む）および保管場所（Box）の紐付け管理。

## 3. 主要機能範囲
### 3.1 設計管理
- **BOM登録**: プロジェクト・ユニット構成を含む設計データ（STLファイル）のインポート。
- **ファイル管理**: 外部ストレージを用いた設計データのセキュアな保存と取得。

### 3.2 製造管理
- **製造指示**: 部品から特定の個体（PartItem）を生成し、造形機（Machine）を割り当てる。
- **ステータス管理**: かんばん方式等のUIを用いた直感的な工程更新（プリント、切削、研磨、検査、完了、出荷、廃棄）。
- **履歴追跡**: ステータス変更時のログ自動記録。

### 3.3 物理管理
- **保管管理**: 部品個体と物理的な保管場所（Box）の紐付け。
- **自動解放**: 廃棄(DISCARD)時または出荷(SHIPPED)時に保管場所（Box）を自動で空き状態にする。

## 4. MVP開発スコープ (Phase 1)
本フェーズでは、以下の3軸の機能実現を最優先とし、認証・権限管理は行わない。

### 4.1 設計管理 (Design Management)
- 部品情報の定義とSTLファイルの紐付け（BOM登録）。
- クラウドストレージを用いた3Dデータの一元管理。

### 4.2 製造管理 (Production Management)
- 製造指示（個体生成）とステータスの可視化。
- 工程履歴の自動記録。

### 4.3 物理管理 (Physical Management)
- 部品個体と保管場所（Box）の紐付け。
- 保管場所の空き状況管理。

## 5. 将来拡張事項 (Phase 2 以降)
- **ユーザー認証・権限管理**: 設計者、指示者、作業者ごとのアクセス制御。
- **高度な検索・フィルタリング**: 大規模プロジェクト向けの部品検索機能。
- **外部システム連携**: ERPや既存BOMシステムとの同期。
